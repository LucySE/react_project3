{"version":3,"sources":["components/Login.js","components/MyProfile.js","components/Search.js","components/SearchResults.js","components/Home.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","Login","state","email","password","handleInput","ev","target","name","setState","value","handleSubmit","request","axios","post","auth","then","result","localStorage","setItem","data","jwt","props","setCurrentUser","history","push","catch","err","console","warn","preventDefault","onSubmit","this","onChange","type","placeholder","React","Component","MyProfile","undefined","user","Search","postal_code","radius","handleChange","handleRadiusChange","log","selected","SearchResults","dogparks","fetchDogparks","get","params","postcode","match","res","prevProps","map","dogpark","dogpark_name","Home","className","App","currentUser","token","getItem","defaults","headers","common","handleLogout","removeItem","to","onClick","component","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6034826.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nconst BASE_URL = 'https://dog-parking-rails.herokuapp.com'\n\nclass Login extends React.Component{\n  state = {\n    email: '',\n    password: ''\n  }\n\n  //handle typing in the form\n  handleInput = (ev) => {\n      switch(ev.target.name){\n        case 'email':\n          this.setState({email: ev.target.value})\n          break;\n        case 'password':\n          this.setState({password: ev.target.value})\n      }\n    } //handleInput //handleInput\n\n  //handle the submit of the login\n  handleSubmit = (ev) => {\n   //create a request object we can pass through to knock\n   const request = {'email': this.state.email, 'password': this.state.password}\n\n   //do an axios post request where we can send through the user details to rails and login\n   axios.post(`${BASE_URL}/user_token`, {auth: request})\n   .then(result => {\n     localStorage.setItem(\"jwt\", result.data.jwt)\n     this.props.setCurrentUser();\n     this.props.history.push('/my_profile');\n   })\n   .catch(err => {\n     console.warn(err)\n   })\n   ev.preventDefault();\n }\n\n render(){\n   return(\n     <form onSubmit={this.handleSubmit}>\n       <label>Login Form</label>\n       <br/>\n       <input\n         onChange={this.handleInput}\n         name=\"email\"\n         type=\"email\"\n         placeholder='Enter Email'\n       />\n       <br/>\n       <input\n         onChange={this.handleInput}\n         name=\"password\"\n         type=\"password\"\n         placeholder='Enter Password'\n       />\n       <br/>\n       <button>Login</button>\n     </form>\n\n   ); // return\n }// render\n} // class Login\n\nexport default Login\n","import React from 'react'\n\n\n\n\nclass MyProfile extends React.Component{\n  // state = {\n  //   currentUser: {\n  //     name: '',\n  //     email: ''\n  //   }\n  // }\n\n  // componentDidMount(){\n  //   let token = \"Bearer \" + localStorage.getItem(\"jwt\");\n  //   axios.get(`${BASE_URL}/users/current`, {\n  //     headers: {\n  //       'Authorization': token\n  //     }\n  //   })\n  //   .then(res => {\n  //     this.setState({currentUser: res.data})\n  //   })\n  //   .catch(err => console.warn(err))\n  // }\n\n  render(){\n    if(this.props.user === undefined){\n      return <p>Loading..</p>;\n\n    }\n\n    return(\n      <div>\n        <h1>Hello {this.props.user.name}</h1>\n        <h4>Your email is {this.props.user.email}</h4>\n      </div>\n    );\n  }//render\n\n}//class MyProfile\n\n\nexport default MyProfile\n","import React from 'react';\n\nclass Search extends React.Component {\n\n  state = {\n    postal_code: '',\n    radius: '20'\n  };\n\n  handleChange = (ev) => {\n    this.setState({ postal_code: ev.target.value });\n  }\n\n  handleRadiusChange = (ev) => {\n    this.setState({ radius: ev.target.value });\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault();\n\n    console.log('search for:', this.state.postal_code);\n\n    this.props.history.push(`/search/${this.state.postal_code}/${this.state.radius}`);\n  }\n  render(){\n      return (\n        <div>\n          <form onSubmit={ this.handleSubmit }>\n            <input type=\"text\" placeholder=\"Enter postcode\" onChange={ this.handleChange }/>\n            <select onChange={ this.handleRadiusChange }>\n              <option value=\"1\">1 km</option>\n              <option value=\"2\">2 km</option>\n              <option value=\"3\">3 km</option>\n              <option value=\"4\">4 km</option>\n              <option value=\"5\">5 km</option>\n              <option value=\"10\">10 km</option>\n              <option value=\"20\" selected>20 km</option>\n            </select>\n            <button>Search</button>\n          </form>\n        </div>\n      );\n    } // render\n\n  } // class DogPark\n\n  export default Search;\n","import React from 'react';\n\nimport axios from 'axios';\n\n\n\nconst BASE_URL = 'https://dog-parking-rails.herokuapp.com/'\n\n\nclass SearchResults extends React.Component {\n\n    state ={\n      dogparks: []\n    };\n\n    fetchDogparks = () => {\n\n      axios.get( BASE_URL + \"/search\", {\n        params: {\n          postcode: this.props.match.params.postal_code,\n          radius: this.props.match.params.radius\n        }\n      })\n      .then( (res) => {\n        console.log('response:', res.data);\n        this.setState({ dogparks: res.data });\n       // save// save into state\n      })\n      .catch( console.warn );\n\n    } // fetchFlights\n\n    componentDidMount(){\n      console.log('mounted');\n      this.fetchDogparks();\n    }\n\n    componentDidUpdate(prevProps){\n      const {postal_code, radius} = this.props.match.params;\n      if(\n        postal_code !== prevProps.match.params.postal_code\n        ||\n        radius !== prevProps.match.params.radius\n       ){\n      this.fetchDogparks();\n      }\n    } //end of componentdidUpdate\n\n    render() {\n        return (\n          <ul>\n            { this.state.dogparks.map(dogpark => <li>{dogpark.dogpark_name}</li>)}\n          </ul>\n\n        ); // return\n    } // render\n} // class SearchResults\n\nexport default SearchResults;\n","import React from 'react';\n\nclass Home extends React.Component{\n\n  render(){\n      return(\n          <div className=\"App\">\n              <h2>\n                Home Page\n              </h2>\n\n          </div>\n      ); // return\n  } // render\n} //class\n\nexport default Home\n","import React from 'react';\nimport axios from 'axios'\n\nimport Login from './Login'\nimport MyProfile from './MyProfile'\nimport Search from './Search';\nimport SearchResults from './SearchResults';\nimport Home from './Home';\n\nimport { Route, Link, HashRouter as Router  } from 'react-router-dom';\n// Add this at the top of your file\n\nconst BASE_URL = 'https://dog-parking-rails.herokuapp.com/'\n\n// import { Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\n\nclass App extends React.Component {\n  //App state\n  state = {\n  currentUser: undefined\n  }\n\n  //function to run on component mounting\n  componentDidMount(){\n    this.setCurrentUser();\n  }\n\n  //function to set the state to the current logged in user\n\n  setCurrentUser = () => {\n    let token = \"Bearer \" + localStorage.getItem(\"jwt\");\n    axios.defaults.headers.common['Authorization'] = token;\n    axios.get(`${BASE_URL}/users/current`)\n    .then(res => {\n      console.log(\"user\", res.data);\n      this.setState({currentUser: res.data})\n    })\n    .catch(err => console.warn(err))\n  }\n\n  handleLogout = () => {\n    this.setState({currentUser: undefined})\n    localStorage.removeItem(\"jwt\");\n    axios.defaults.headers.common['Authorization'] = undefined;\n  }\n\n  render(){\n\n    return (\n      <div className=\"Home\">\n        <h1>Welcome to Dog Parking</h1>\n\n\n        <Router>\n        {/* Do we need a nav for the react pages? Or only for the rails pages? */}\n          <nav>\n            {/* Show one of two nav bars depending on if the user is logged in */}\n             {\n               this.state.currentUser !== undefined\n               ?\n               (\n                 <ul>\n                   <li>Welcome {this.state.currentUser.name} | </li>\n                   <li><Link to='/my_profile'>My Profile</Link></li>\n                   <li><Link onClick={this.handleLogout} to='/'>Logout</Link></li>\n                 </ul>\n               )\n               :\n               (\n                 <ul>\n                   <li><Link to='/login'>Login</Link></li>\n                 </ul>\n               )\n             }\n            <Link to=\"/\">Home</Link> |\n            <Link to=\"/Search\">Search</Link>|\n\n            <br />\n            <Route component={ Search } />\n          { /* appears on every route */ }\n          </nav>\n          <hr />\n            <Route exact path='/my_profile'\n              render={(props) => <MyProfile user={this.state.currentUser}{...props}/>}\n            />\n            <Route\n              exact path='/login'\n              render={(props) => <Login setCurrentUser={this.setCurrentUser}{...props}/>}\n            />\n          <Route exact path=\"/\" component={ Home } />\n          <Route exact path=\"/search/:postal_code/:radius\"  component={ SearchResults } />\n\n        </Router>\n\n        <footer>\n          <hr />\n          &copy; 2021 Lucy Wirth\n        </footer>\n\n      </div>\n    ); // return\n\n  } // render()\n} // class App\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}