{"version":3,"sources":["components/Login.js","components/MyProfile.js","components/Search.js","components/SearchResults.js","components/Home.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","Login","state","email","password","handleInput","ev","target","name","setState","value","handleSubmit","request","axios","post","auth","then","result","localStorage","setItem","data","jwt","defaults","headers","common","props","setCurrentUser","history","push","catch","err","console","warn","preventDefault","onSubmit","this","onChange","type","placeholder","React","Component","MyProfile","currentUser","token","getItem","get","res","Search","postal_code","radius","handleChange","handleRadiusChange","log","selected","SearchResults","dogparks","fetchDogparks","params","postcode","match","prevProps","map","dogpark","dogpark_name","Home","className","App","undefined","handleLogout","removeItem","to","onClick","component","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9995932.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nconst BASE_URL = 'http://localhost:3000'\n\nclass Login extends React.Component{\n  state = {\n    email: '',\n    password: ''\n  }\n\n  //handle typing in the form\n  handleInput = (ev) => {\n      switch(ev.target.name){\n        case 'email':\n          this.setState({email: ev.target.value})\n          break;\n        case 'password':\n          this.setState({password: ev.target.value})\n      }\n    } //handleInput //handleInput\n\n  //handle the submit of the login\n  handleSubmit = (ev) => {\n   //create a request object we can pass through to knock\n   const request = {'email': this.state.email, 'password': this.state.password}\n\n   //do an axios post request where we can send through the user details to rails and login\n   axios.post(`${BASE_URL}/user_token`, {auth: request})\n   .then(result => {\n     localStorage.setItem(\"jwt\", result.data.jwt)\n     axios.defaults.headers.common['Authorization'] = 'Bearer ' + result.data.jwt;\n     this.props.setCurrentUser();\n     this.props.history.push('/my_profile');\n   })\n   .catch(err => {\n     console.warn(err)\n   })\n   ev.preventDefault();\n }\n\n render(){\n   return(\n     <form onSubmit={this.handleSubmit}>\n       <label>Login Form</label>\n       <br/>\n       <input\n         onChange={this.handleInput}\n         name=\"email\"\n         type=\"email\"\n         placeholder='Enter Email'\n       />\n       <br/>\n       <input\n         onChange={this.handleInput}\n         name=\"password\"\n         type=\"password\"\n         placeholder='Enter Password'\n       />\n       <br/>\n       <button>Login</button>\n     </form>\n\n   ); // return\n }// render\n} // class Login\n\nexport default Login\n","import React from 'react'\nimport axios from 'axios'\n\nconst BASE_URL = 'http://localhost:3000'\n\nclass MyProfile extends React.Component{\n  state = {\n    currentUser: {\n      name: '',\n      email: ''\n    }\n  }\n\n  componentDidMount(){\n    let token = \"Bearer \" + localStorage.getItem(\"jwt\");\n    axios.get(`${BASE_URL}/users/current`, {\n      headers: {\n        'Authorization': token\n      }\n    })\n    .then(res => {\n      this.setState({currentUser: res.data})\n    })\n    .catch(err => console.warn(err))\n  }\n\n  render(){\n    return(\n      <div>\n        <h1>Hello {this.state.currentUser.name}</h1>\n        <h4>Your email is {this.state.currentUser.email}</h4>\n      </div>\n    );\n  }//render\n\n}//class MyProfile\n\n\nexport default MyProfile\n","import React from 'react';\n\nclass Search extends React.Component {\n\n  state = {\n    postal_code: '',\n    radius: '20'\n  };\n\n  handleChange = (ev) => {\n    this.setState({ postal_code: ev.target.value });\n  }\n\n  handleRadiusChange = (ev) => {\n    this.setState({ radius: ev.target.value });\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault();\n\n    console.log('search for:', this.state.postal_code);\n\n    this.props.history.push(`/search/${this.state.postal_code}/${this.state.radius}`);\n  }\n  render(){\n      return (\n        <div>\n          <form onSubmit={ this.handleSubmit }>\n            <input type=\"text\" placeholder=\"Enter postcode\" onChange={ this.handleChange }/>\n            <select onChange={ this.handleRadiusChange }>\n              <option value=\"1\">1 km</option>\n              <option value=\"2\">2 km</option>\n              <option value=\"3\">3 km</option>\n              <option value=\"4\">4 km</option>\n              <option value=\"5\">5 km</option>\n              <option value=\"10\">10 km</option>\n              <option value=\"20\" selected>20 km</option>\n            </select>\n            <button>Search</button>\n          </form>\n        </div>\n      );\n    } // render\n\n  } // class DogPark\n\n  export default Search;\n","import React from 'react';\n\nimport axios from 'axios';\n\n\n\nconst BASE_URL = 'http://localhost:3000'\n\n\nclass SearchResults extends React.Component {\n\n    state ={\n      dogparks: []\n    };\n\n    fetchDogparks = () => {\n\n      axios.get( BASE_URL + \"/search\", {\n        params: {\n          postcode: this.props.match.params.postal_code,\n          radius: this.props.match.params.radius\n        }\n      })\n      .then( (res) => {\n        console.log('response:', res.data);\n        this.setState({ dogparks: res.data });\n       // save// save into state\n      })\n      .catch( console.warn );\n\n    } // fetchFlights\n\n    componentDidMount(){\n      console.log('mounted');\n      this.fetchDogparks();\n    }\n\n    componentDidUpdate(prevProps){\n      const {postal_code, radius} = this.props.match.params;\n      if(\n        postal_code !== prevProps.match.params.postal_code\n        ||\n        radius !== prevProps.match.params.radius\n       ){\n      this.fetchDogparks();\n      }\n    } //end of componentdidUpdate\n\n    render() {\n        return (\n          <ul>\n            { this.state.dogparks.map(dogpark => <li>{dogpark.dogpark_name}</li>)}\n          </ul>\n  \n        ); // return\n    } // render\n} // class SearchResults\n\nexport default SearchResults;\n","import React from 'react';\n\nclass Home extends React.Component{\n\n  render(){\n      return(\n          <div className=\"App\">\n              <h2>\n                Home Page\n              </h2>\n\n          </div>\n      ); // return\n  } // render\n} //class\n\nexport default Home\n","import React from 'react';\nimport axios from 'axios'\n\nimport Login from './Login'\nimport MyProfile from './MyProfile'\nimport Search from './Search';\nimport SearchResults from './SearchResults';\nimport Home from './Home';\n\nimport { Route, Link, HashRouter as Router  } from 'react-router-dom';\n// Add this at the top of your file\n\nconst BASE_URL = 'http://localhost:3000'\n\n// import { Navbar, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\n\nclass App extends React.Component {\n  //App state\n  state = {\n  currentUser: undefined\n  }\n\n  //function to run on component mounting\n  componentDidMount(){\n    this.setCurrentUser();\n  }\n\n  //function to set the state to the current logged in user\n  setCurrentUser = () => {\n  }\n\n  //function to log the user out.\n  handleLogout = () => {\n  }\n  setCurrentUser = () => {\n      let token = \"Bearer \" + localStorage.getItem(\"jwt\");\n      axios.get(`${BASE_URL}/users/current`, {\n        headers: {\n          'Authorization': token\n        }\n      })\n      .then(res => {\n        this.setState({currentUser: res.data})\n      })\n      .catch(err => console.warn(err))\n    }\n    handleLogout = () => {\n    this.setState({currentUser: undefined})\n    localStorage.removeItem(\"jwt\");\n    axios.defaults.headers.common['Authorization'] = undefined;\n  }\n\n  render(){\n\n    return (\n      <div className=\"Home\">\n        <h1>Welcome to Dog Parking</h1>\n\n\n        <Router>\n        {/* Do we need a nav for the react pages? Or only for the rails pages? */}\n          <nav>\n            {/* Show one of two nav bars depending on if the user is logged in */}\n             {\n               this.state.currentUser !== undefined\n               ?\n               (\n                 <ul>\n                   <li>Welcome {this.state.currentUser.name} | </li>\n                   <li><Link to='/my_profile'>My Profile</Link></li>\n                   <li><Link onClick={this.handleLogout} to='/'>Logout</Link></li>\n                 </ul>\n               )\n               :\n               (\n                 <ul>\n                   <li><Link to='/login'>Login</Link></li>\n                 </ul>\n               )\n             }\n            <Link to=\"/\">Home</Link> |\n            <Link to=\"/Search\">Search</Link>|\n\n            <br />\n            <Route component={ Search } />\n          { /* appears on every route */ }\n          </nav>\n          <hr />\n            <Route exact path='/my_profile' component={MyProfile}/>\n                    <Route\n                      exact path='/login'\n                      render={(props) => <Login setCurrentUser={this.setCurrentUser}{...props}/>}\n                      />\n          <Route exact path=\"/\" component={ Home } />\n          <Route exact path=\"/search/:postal_code/:radius\"  component={ SearchResults } />\n\n        </Router>\n\n        <footer>\n          <hr />\n          &copy; 2021 Lucy Wirth\n        </footer>\n\n      </div>\n    ); // return\n\n  } // render()\n} // class App\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}